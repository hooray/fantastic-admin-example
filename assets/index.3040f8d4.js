
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.netlify.app
 * 代码仓库
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
    
import{_ as e,d as t,u as a,b as l,e as n,w as o,g as s,aJ as i,aK as u,i as r,T as d,aL as c,aa as p,ac as m,a7 as v,c as h,aM as f,W as b,$ as g,t as y,r as x,aN as M,aO as k,aP as S,A as I,Y as C,o as P,aQ as T,ae as w,E,au as B,ar as A,as as $,H as _,a1 as O,am as z,Z as N,aR as j,aS as H,aT as L,aU as W,aC as q,aV as R,al as D,aW as G,aX as U,C as V,f as F,D as J,n as K,R as Q,G as Y,q as X,a2 as Z,v as ee,h as te,m as ae,Q as le,aY as ne,S as oe,U as se}from"./index.2c25f648.js";import{t as ie}from"./aria.aa9fd7b6.js";var ue=e(t({name:"ElCollapseTransition",setup(e){const t=a("collapse-transition"),c={beforeEnter(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){e.dataset.oldOverflow=e.style.overflow,0!==e.scrollHeight?(e.style.maxHeight=`${e.scrollHeight}px`,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom):(e.style.maxHeight=0,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom),e.style.overflow="hidden"},afterEnter(e){e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.maxHeight=`${e.scrollHeight}px`,e.style.overflow="hidden"},leave(e){0!==e.scrollHeight&&(e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom}};return(e,a)=>(l(),n(d,i({name:r(t).b()},u(c)),{default:o((()=>[s(e.$slots,"default")])),_:3},16,["name"]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);ue.install=e=>{e.component(ue.name,ue)};const re=ue;class de{constructor(e,t){this.parent=e,this.domNode=t,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,(t=>{t.addEventListener("keydown",(t=>{let a=!1;switch(t.code){case c.down:this.gotoSubIndex(this.subIndex+1),a=!0;break;case c.up:this.gotoSubIndex(this.subIndex-1),a=!0;break;case c.tab:ie(e,"mouseleave");break;case c.enter:case c.space:a=!0,t.currentTarget.click()}return a&&(t.preventDefault(),t.stopPropagation()),!1}))}))}}class ce{constructor(e,t){this.domNode=e,this.submenu=null,this.submenu=null,this.init(t)}init(e){this.domNode.setAttribute("tabindex","0");const t=this.domNode.querySelector(`.${e}-menu`);t&&(this.submenu=new de(this,t)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",(e=>{let t=!1;switch(e.code){case c.down:ie(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),t=!0;break;case c.up:ie(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),t=!0;break;case c.tab:ie(e.currentTarget,"mouseleave");break;case c.enter:case c.space:t=!0,e.currentTarget.click()}t&&e.preventDefault()}))}}class pe{constructor(e,t){this.domNode=e,this.init(t)}init(e){const t=this.domNode.childNodes;Array.from(t).forEach((t=>{1===t.nodeType&&new ce(t,e)}))}}var me=e(t({name:"ElMenuCollapseTransition",setup(){const e=a("menu");return{listeners:{onBeforeEnter:e=>e.style.opacity="0.2",onEnter(t,a){p(t,`${e.namespace.value}-opacity-transition`),t.style.opacity="1",a()},onAfterEnter(t){m(t,`${e.namespace.value}-opacity-transition`),t.style.opacity=""},onBeforeLeave(t){t.dataset||(t.dataset={}),v(t,e.m("collapse"))?(m(t,e.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),p(t,e.m("collapse"))):(p(t,e.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),m(t,e.m("collapse"))),t.style.width=`${t.scrollWidth}px`,t.style.overflow="hidden"},onLeave(e){p(e,"horizontal-collapse-transition"),e.style.width=`${e.dataset.scrollWidth}px`}}}}}),[["render",function(e,t,a,u,r,c){return l(),n(d,i({mode:"out-in"},e.listeners),{default:o((()=>[s(e.$slots,"default")])),_:3},16)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function ve(e,t){const a=h((()=>{let a=e.parent;const l=[t.value];for(;"ElMenu"!==a.type.name;)a.props.index&&l.unshift(a.props.index),a=a.parent;return l}));return{parentMenu:h((()=>{let t=e.parent;for(;t&&!["ElMenu","ElSubMenu"].includes(t.type.name);)t=t.parent;return t})),indexPath:a}}function he(e){return h((()=>{const t=e.backgroundColor;return t?new f(t).shade(20).toString():""}))}const fe=(e,t)=>{const l=a("menu");return h((()=>l.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":he(e).value||"","active-color":e.activeTextColor||"",level:`${t}`})))},be=b({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},popperOffset:{type:Number,default:6}});var ge=t({name:"ElSubMenu",props:be,setup(e,{slots:t,expose:l}){const n=O(),{indexPath:o,parentMenu:s}=ve(n,h((()=>e.index))),i=a("menu"),u=a("sub-menu"),r=g("rootMenu");r||y("ElSubMenu","can not inject root menu");const d=g(`subMenu:${s.value.uid}`);d||y("ElSubMenu","can not inject sub menu");const c=x({}),p=x({});let m;const v=x(!1),f=x(),b=x(null),N=h((()=>"horizontal"===F.value&&H.value?"bottom-start":"right-start")),j=h((()=>"horizontal"===F.value&&H.value||"vertical"===F.value&&!r.props.collapse?M:k)),H=h((()=>0===d.level)),L=h((()=>void 0===e.popperAppendToBody?H.value:Boolean(e.popperAppendToBody))),W=h((()=>r.props.collapse?`${i.namespace.value}-zoom-in-left`:`${i.namespace.value}-zoom-in-top`)),q=h((()=>"horizontal"===F.value&&H.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","left-start","bottom-start","bottom-end","top-start","top-end"])),R=h((()=>r.openedMenus.includes(e.index))),D=h((()=>{let e=!1;return Object.values(c.value).forEach((t=>{t.active&&(e=!0)})),Object.values(p.value).forEach((t=>{t.active&&(e=!0)})),e})),G=h((()=>r.props.backgroundColor||"")),U=h((()=>r.props.activeTextColor||"")),V=h((()=>r.props.textColor||"")),F=h((()=>r.props.mode)),J=S({index:e.index,indexPath:o,active:D}),K=h((()=>"horizontal"!==F.value?{color:V.value}:{borderBottomColor:D.value?r.props.activeTextColor?U.value:"":"transparent",color:D.value?U.value:V.value})),Q=e=>{var t,a,l;e||null==(l=null==(a=null==(t=b.value)?void 0:t.popperRef)?void 0:a.popperInstanceRef)||l.destroy()},Y=()=>{"hover"===r.props.menuTrigger&&"horizontal"===r.props.mode||r.props.collapse&&"vertical"===r.props.mode||e.disabled||r.handleSubMenuClick({index:e.index,indexPath:o.value,active:D.value})},X=(t,a=e.showTimeout)=>{var l;"focus"!==t.type&&("click"===r.props.menuTrigger&&"horizontal"===r.props.mode||!r.props.collapse&&"vertical"===r.props.mode||e.disabled||(d.mouseInChild.value=!0,null==m||m(),({stop:m}=z((()=>{r.openMenu(e.index,o.value)}),a)),L.value&&(null==(l=s.value.vnode.el)||l.dispatchEvent(new MouseEvent("mouseenter")))))},Z=(t=!1)=>{var a,l;"click"===r.props.menuTrigger&&"horizontal"===r.props.mode||!r.props.collapse&&"vertical"===r.props.mode||(null==m||m(),d.mouseInChild.value=!1,({stop:m}=z((()=>!v.value&&r.closeMenu(e.index,o.value)),e.hideTimeout)),L.value&&t&&"ElSubMenu"===(null==(a=n.parent)?void 0:a.type.name)&&(null==(l=d.handleMouseleave)||l.call(d,!0)))};I((()=>r.props.collapse),(e=>Q(Boolean(e))));{const e=e=>{p.value[e.index]=e},t=e=>{delete p.value[e.index]};C(`subMenu:${n.uid}`,{addSubMenu:e,removeSubMenu:t,handleMouseleave:Z,mouseInChild:v,level:d.level+1})}return l({opened:R}),P((()=>{r.addSubMenu(J),d.addSubMenu(J)})),T((()=>{d.removeSubMenu(J),r.removeSubMenu(J)})),()=>{var a;const l=[null==(a=t.title)?void 0:a.call(t),w(E,{class:u.e("icon-arrow")},{default:()=>w(j.value)})],n=fe(r.props,d.level+1),o=r.isMenuPopup?w(B,{ref:b,visible:R.value,effect:"light",pure:!0,offset:e.popperOffset,showArrow:!1,persistent:!0,popperClass:e.popperClass,placement:N.value,teleported:L.value,fallbackPlacements:q.value,transition:W.value,gpuAcceleration:!1},{content:()=>{var a;return w("div",{class:[i.m(F.value),i.m("popup-container"),e.popperClass],onMouseenter:e=>X(e,100),onMouseleave:()=>Z(!0),onFocus:e=>X(e,100)},[w("ul",{class:[i.b(),i.m("popup"),i.m(`popup-${N.value}`)],style:n.value},[null==(a=t.default)?void 0:a.call(t)])])},default:()=>w("div",{class:u.e("title"),style:[K.value,{backgroundColor:G.value}],onClick:Y},l)}):w(_,{},[w("div",{class:u.e("title"),style:[K.value,{backgroundColor:G.value}],ref:f,onClick:Y},l),w(re,{},{default:()=>{var e;return A(w("ul",{role:"menu",class:[i.b(),i.m("inline")],style:n.value},[null==(e=t.default)?void 0:e.call(t)]),[[$,R.value]])}})]);return w("li",{class:[u.b(),u.is("active",D.value),u.is("opened",R.value),u.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:R.value,onMouseenter:X,onMouseleave:()=>Z(!0),onFocus:X},[o])}}});const ye=b({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:N(Array),default:()=>j([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0}}),xe=e=>Array.isArray(e)&&e.every((e=>q(e)));var Me=t({name:"ElMenu",props:ye,emits:{close:(e,t)=>q(e)&&xe(t),open:(e,t)=>q(e)&&xe(t),select:(e,t,a,l)=>q(e)&&xe(t)&&R(a)&&(void 0===l||l instanceof Promise)},setup(e,{emit:t,slots:l,expose:n}){const o=O(),s=o.appContext.config.globalProperties.$router,i=x(),u=a("menu"),r=a("sub-menu"),d=x(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),c=x(e.defaultActive),p=x({}),m=x({}),v=h((()=>"horizontal"===e.mode||"vertical"===e.mode&&e.collapse)),f=()=>{const t=c.value&&p.value[c.value];if(!t||"horizontal"===e.mode||e.collapse)return;t.indexPath.forEach((e=>{const t=m.value[e];t&&b(e,t.indexPath)}))},b=(a,l)=>{d.value.includes(a)||(e.uniqueOpened&&(d.value=d.value.filter((e=>l.includes(e)))),d.value.push(a),t("open",a,l))},g=(e,a)=>{const l=d.value.indexOf(e);-1!==l&&d.value.splice(l,1),t("close",e,a)},y=({index:e,indexPath:t})=>{d.value.includes(e)?g(e,t):b(e,t)},M=a=>{("horizontal"===e.mode||e.collapse)&&(d.value=[]);const{index:l,indexPath:n}=a;if(void 0!==l&&void 0!==n)if(e.router&&s){const e=a.route||l,o=s.push(e).then((e=>(e||(c.value=l),e)));t("select",l,n,{index:l,indexPath:n,route:e},o)}else c.value=l,t("select",l,n,{index:l,indexPath:n})},k=()=>{D((()=>o.proxy.$forceUpdate()))};let T;I((()=>e.defaultActive),(t=>{p.value[t]||(c.value=""),(t=>{const a=p.value,l=a[t]||c.value&&a[c.value]||a[e.defaultActive];l?(c.value=l.index,f()):c.value=t})(t)})),I((()=>e.collapse),(e=>{e&&(d.value=[])})),H((()=>{"horizontal"===e.mode&&e.ellipsis?T=L(i,k).stop:null==T||T()}));{const t=e=>{m.value[e.index]=e},a=e=>{delete m.value[e.index]},l=e=>{p.value[e.index]=e},n=e=>{delete p.value[e.index]};C("rootMenu",S({props:e,openedMenus:d,items:p,subMenus:m,activeIndex:c,isMenuPopup:v,addMenuItem:l,removeMenuItem:n,addSubMenu:t,removeSubMenu:a,openMenu:b,closeMenu:g,handleMenuItemClick:M,handleSubMenuClick:y})),C(`subMenu:${o.uid}`,{addSubMenu:t,removeSubMenu:a,mouseInChild:x(!1),level:0})}P((()=>{f(),"horizontal"===e.mode&&new pe(o.vnode.el,u.namespace.value)}));n({open:e=>{const{indexPath:t}=m.value[e];t.forEach((e=>b(e,t)))},close:g,handleResize:k});const B=e=>{const t=Array.isArray(e)?e:[e],a=[];return t.forEach((e=>{Array.isArray(e.children)?a.push(...B(e.children)):a.push(e)})),a};return()=>{var t,a,n,o;let s=null!=(a=null==(t=l.default)?void 0:t.call(l))?a:[];const d=[];if("horizontal"===e.mode&&i.value){const t=Array.from(null!=(o=null==(n=i.value)?void 0:n.childNodes)?o:[]).filter((e=>"#text"!==e.nodeName||e.nodeValue)),a=B(s),l=64,u=Number.parseInt(getComputedStyle(i.value).paddingLeft,10),c=Number.parseInt(getComputedStyle(i.value).paddingRight,10),p=i.value.clientWidth-u-c;let m=0,v=0;t.forEach(((e,t)=>{m+=e.offsetWidth||0,m<=p-l&&(v=t+1)}));const h=a.slice(0,v),f=a.slice(v);(null==f?void 0:f.length)&&e.ellipsis&&(s=h,d.push(w(ge,{index:"sub-menu-more",class:r.e("hide-arrow")},{title:()=>w(E,{class:r.e("icon-more")},{default:()=>w(W)}),default:()=>f})))}const c=fe(e,0),p=w("ul",{key:String(e.collapse),role:"menubar",ref:i,style:c.value,class:{[u.b()]:!0,[u.m(e.mode)]:!0,[u.m("collapse")]:e.collapse}},[...s,...d]);return e.collapseTransition&&"vertical"===e.mode?w(me,(()=>p)):p}}});const ke=b({index:{type:N([String,null]),default:null},route:{type:N([String,Object])},disabled:Boolean});var Se=e(t({name:"ElMenuItem",components:{ElTooltip:B},props:ke,emits:{click:e=>q(e.index)&&Array.isArray(e.indexPath)},setup(e,{emit:t}){const l=O(),n=g("rootMenu"),o=a("menu"),s=a("menu-item");n||y("ElMenuItem","can not inject root menu");const{parentMenu:i,indexPath:u}=ve(l,G(e,"index")),r=g(`subMenu:${i.value.uid}`);r||y("ElMenuItem","can not inject sub menu");const d=h((()=>e.index===n.activeIndex)),c=S({index:e.index,indexPath:u,active:d});return P((()=>{r.addSubMenu(c),n.addMenuItem(c)})),T((()=>{r.removeSubMenu(c),n.removeMenuItem(c)})),{Effect:U,parentMenu:i,rootMenu:n,active:d,nsMenu:o,nsMenuItem:s,handleClick:()=>{e.disabled||(n.handleMenuItemClick({index:e.index,indexPath:u.value,route:e.route}),t("click",c))}}}}),[["render",function(e,t,a,i,u,r){const d=V("el-tooltip");return l(),F("li",{class:K([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:t[0]||(t[0]=(...t)=>e.handleClick&&e.handleClick(...t))},["ElMenu"===e.parentMenu.type.name&&e.rootMenu.props.collapse&&e.$slots.title?(l(),n(d,{key:0,effect:e.Effect.DARK,placement:"right","fallback-placements":["left"],persistent:""},{content:o((()=>[s(e.$slots,"title")])),default:o((()=>[J("div",{class:K(e.nsMenu.be("tooltip","trigger"))},[s(e.$slots,"default")],2)])),_:3},8,["effect"])):(l(),F(_,{key:1},[s(e.$slots,"default"),s(e.$slots,"title")],64))],2)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);var Ie=e(t({name:"ElMenuItemGroup",props:{title:String},setup:()=>({ns:a("menu-item-group")})}),[["render",function(e,t,a,n,o,i){return l(),F("li",{class:K(e.ns.b())},[J("div",{class:K(e.ns.e("title"))},[e.$slots.title?s(e.$slots,"title",{key:1}):(l(),F(_,{key:0},[Q(Y(e.title),1)],64))],2),J("ul",null,[s(e.$slots,"default")])],2)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);const Ce=X(Me,{MenuItem:Se,MenuItemGroup:Ie,SubMenu:ge}),Pe=Z(Se);Z(Ie);const Te=Z(ge),we={class:"sidebar-item"},Ee={class:"title"},Be=["href","target","onClick"],Ae={class:"title"},$e={class:"title"},_e=t({name:"SidebarItem"}),Oe=ee(Object.assign(_e,{props:{item:{type:Object,required:!0},basePath:{type:String,default:""}},setup(e){const t=e,a=h((()=>{let e=!0;return t.item.children?t.item.children.every((e=>!1===e.meta.sidebar))&&(e=!1):e=!1,e}));return(t,s)=>{const i=se,u=E,d=Te,c=Pe,p=V("router-link");return l(),F("div",we,[null==e.item.path?(l(),n(d,{key:0,title:e.item.meta.title,index:JSON.stringify(e.item)},{title:o((()=>[e.item.meta.icon?(l(),n(u,{key:0,class:"title-icon"},{default:o((()=>[te(i,{name:e.item.meta.icon},null,8,["name"])])),_:1})):ae("v-if",!0),J("span",Ee,Y(e.item.meta.title),1)])),default:o((()=>[(l(!0),F(_,null,le(e.item.children,(e=>(l(),F(_,null,[!1!==e.meta.sidebar?(l(),n(Oe,{key:e.path,item:e},null,8,["item"])):ae("v-if",!0)],64)))),256))])),_:1},8,["title","index"])):r(a)?(l(),n(d,{key:2,title:e.item.meta.title,index:r(ne)(e.basePath,e.item.path)},{title:o((()=>[e.item.meta.icon?(l(),n(u,{key:0,class:"title-icon"},{default:o((()=>[te(i,{name:e.item.meta.icon},null,8,["name"])])),_:1})):ae("v-if",!0),J("span",$e,Y(e.item.meta.title),1)])),default:o((()=>[(l(!0),F(_,null,le(e.item.children,(t=>(l(),F(_,null,[!1!==t.meta.sidebar?(l(),n(Oe,{key:t.path,item:t,"base-path":r(ne)(e.basePath,e.item.path)},null,8,["item","base-path"])):ae("v-if",!0)],64)))),256))])),_:1},8,["title","index"])):(l(),n(p,{key:1,custom:"",to:r(ne)(e.basePath,e.item.path)},{default:o((({href:t,navigate:a,isActive:s,isExactActive:d})=>[J("a",{href:r(oe)(r(ne)(e.basePath,e.item.path))?r(ne)(e.basePath,e.item.path):t,class:K([s&&"router-link-active",d&&"router-link-exact-active"]),target:r(oe)(r(ne)(e.basePath,e.item.path))?"_blank":"_self",onClick:a},[te(c,{title:e.item.meta.title,index:r(ne)(e.basePath,e.item.path)},{default:o((()=>[e.item.meta.icon?(l(),n(u,{key:0,class:"title-icon"},{default:o((()=>[te(i,{name:e.item.meta.icon},null,8,["name"])])),_:1})):ae("v-if",!0),J("span",Ae,Y(e.item.meta.title),1)])),_:1},8,["title","index"])],10,Be)])),_:1},8,["to"]))])}}}),[["__scopeId","data-v-67cc5f03"]]),ze=Object.freeze(Object.defineProperty({__proto__:null,default:Oe},Symbol.toStringTag,{value:"Module"}));export{Ce as E,Oe as S,ze as i};
