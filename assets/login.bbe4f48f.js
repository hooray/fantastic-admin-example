
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.netlify.app
 * 代码仓库
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
    
import{_ as e}from"./index.940e36d9.js";import{v as a,d as l,z as o,aD as r,r as s,o as t,E as u,az as n,ay as d,f as i,H as c,i as p,ar as m,as as f,h as g,w as v,e as _,m as w,bs as y,x as b,y as h,b as x,M as V,a3 as k,l as C,O as P,P as U,$ as j,al as q,S as R,J as z,ax as E}from"./index.84c9bfd8.js";import{E as F,a as S}from"./el-form.7850f0f1.js";import{E as $}from"./el-link.9df77598.js";import{E as I}from"./el-checkbox.d344784d.js";import"./el-form-item.2e22de35.js";import{E as L}from"./el-input.f69128cc.js";/* empty css                   */import"./isEqual.7e94fa38.js";import"./event.d298a7ab.js";const K=e=>(P("data-v-d27b672d"),e=e(),U(),e),O=K((()=>c("div",{class:"bg-banner"},null,-1))),D={id:"login-box"},H={class:"login-banner"},J=K((()=>c("div",{class:"logo"},null,-1))),M=["src"],A={class:"title-container"},B={class:"title"},G={class:"flex-bar"},N=j("记住我"),Q=j("忘记密码了?"),T=j("登录"),W={class:"sub-link"},X=K((()=>c("span",{class:"text"},"还没有帐号?",-1))),Y=j("创建新帐号"),Z={style:{"margin-top":"20px","margin-bottom":"-20px","text-align":"center"}},ee=j("演示账号一键登录"),ae=j("admin"),le=j("test"),oe=K((()=>c("div",{class:"title-container"},[c("h3",{class:"title"},"探索从这里开始! 🚀")],-1))),re=j("发送验证码"),se=j("注册"),te={class:"sub-link"},ue=K((()=>c("span",{class:"text"},"已经有帐号?",-1))),ne=j("去登录"),de=K((()=>c("div",{class:"title-container"},[c("h3",{class:"title"},"忘记密码了? 🔒")],-1))),ie=j("发送验证码"),ce=j("确认"),pe={class:"sub-link"},me=j("返回登录"),fe=l({name:"Login"}),ge=Object.assign(fe,{setup(a){const{proxy:l}=z(),y=b(),P=h(),U=o(),j=r(),K=new URL(""+new URL("login-banner.a565fac8.png",import.meta.url).href,self.location).href,fe=s("login"),ge=s({account:localStorage.login_account||"",password:"",remember:!!localStorage.login_account}),ve=s({account:[{required:!0,trigger:"blur",message:"请输入用户名"}],password:[{required:!0,trigger:"blur",message:"请输入密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}]});function _e(){l.$refs.loginFormRef.validate((e=>{e&&(ke.value=!0,j.login(ge.value).then((()=>{ke.value=!1,ge.value.remember?localStorage.setItem("login_account",ge.value.account):localStorage.removeItem("login_account"),P.push(Pe.value)})).catch((()=>{ke.value=!1})))}))}const we=s({account:"",captcha:"",password:"",checkPassword:""}),ye=s({account:[{required:!0,trigger:"blur",message:"请输入用户名"}],captcha:[{required:!0,trigger:"blur",message:"请输入验证码"}],password:[{required:!0,trigger:"blur",message:"请输入密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}],checkPassword:[{required:!0,trigger:"blur",message:"请再次输入密码"},{validator:(e,a,l)=>{a!==we.password?l(new Error("两次输入的密码不一致")):l()}}]});function be(){E({message:"注册模块仅提供界面演示，无实际功能，需开发者自行扩展",type:"warning"}),l.$refs.registerFormRef.validate((e=>{}))}const he=s({account:localStorage.login_account||"",captcha:"",newPassword:""}),xe=s({account:[{required:!0,trigger:"blur",message:"请输入用户名"}],captcha:[{required:!0,trigger:"blur",message:"请输入验证码"}],newPassword:[{required:!0,trigger:"blur",message:"请输入新密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}]});function Ve(){E({message:"重置密码模块仅提供界面演示，无实际功能，需开发者自行扩展",type:"warning"}),l.$refs.resetFormRef.validate((e=>{}))}const ke=s(!1),Ce=s("password"),Pe=s(null);function Ue(){Ce.value="password"===Ce.value?"":"password",q((()=>{l.$refs.password.focus()}))}function je(e){ge.value.account=e,ge.value.password="123456",_e()}return t((()=>{var e;Pe.value=null!=(e=y.query.redirect)?e:"/"})),(a,l)=>{const o=R,r=u,s=L,t=F,y=I,b=$,h=n,P=d,j=S,q=e;return x(),i("div",null,[O,c("div",D,[c("div",H,[J,c("img",{src:p(K),class:"banner"},null,8,M)]),m(g(j,{ref:"loginFormRef",model:ge.value,rules:ve.value,class:"login-form",autocomplete:"on"},{default:v((()=>[c("div",A,[c("h3",B,"欢迎来到 "+V(p("Fantastic-admin 基础版"))+" ! 👋🏻",1)]),c("div",null,[g(t,{prop:"account"},{default:v((()=>[g(s,{ref:"name",modelValue:ge.value.account,"onUpdate:modelValue":l[0]||(l[0]=e=>ge.value.account=e),placeholder:"用户名",text:"",tabindex:"1",autocomplete:"on"},{prefix:v((()=>[g(r,null,{default:v((()=>[g(o,{name:"user"})])),_:1})])),_:1},8,["modelValue"])])),_:1}),g(t,{prop:"password"},{default:v((()=>[g(s,{ref:"password",modelValue:ge.value.password,"onUpdate:modelValue":l[1]||(l[1]=e=>ge.value.password=e),type:Ce.value,placeholder:"密码",tabindex:"2",autocomplete:"on",onKeyup:k(_e,["enter"])},{prefix:v((()=>[g(r,null,{default:v((()=>[g(o,{name:"password"})])),_:1})])),suffix:v((()=>[g(r,null,{default:v((()=>[g(o,{name:"password"===Ce.value?"eye":"eye-open",onClick:Ue},null,8,["name"])])),_:1})])),_:1},8,["modelValue","type","onKeyup"])])),_:1})]),c("div",G,[g(y,{modelValue:ge.value.remember,"onUpdate:modelValue":l[2]||(l[2]=e=>ge.value.remember=e)},{default:v((()=>[N])),_:1},8,["modelValue"]),g(b,{type:"primary",underline:!1,onClick:l[3]||(l[3]=e=>fe.value="reset")},{default:v((()=>[Q])),_:1})]),g(h,{loading:ke.value,type:"primary",size:"large",style:{width:"100%"},onClick:C(_e,["prevent"])},{default:v((()=>[T])),_:1},8,["loading","onClick"]),c("div",W,[X,g(b,{type:"primary",underline:!1,onClick:l[4]||(l[4]=e=>fe.value="register")},{default:v((()=>[Y])),_:1})]),c("div",Z,[g(P,null,{default:v((()=>[ee])),_:1}),g(h,{type:"primary",size:"small",plain:"",onClick:l[5]||(l[5]=e=>je("admin"))},{default:v((()=>[ae])),_:1}),g(h,{size:"small",plain:"",onClick:l[6]||(l[6]=e=>je("test"))},{default:v((()=>[le])),_:1})])])),_:1},8,["model","rules"]),[[f,"login"==fe.value]]),m(g(j,{ref:"registerFormRef",model:we.value,rules:ye.value,class:"login-form","auto-complete":"on"},{default:v((()=>[oe,c("div",null,[g(t,{prop:"account"},{default:v((()=>[g(s,{ref:"name",modelValue:we.value.account,"onUpdate:modelValue":l[7]||(l[7]=e=>we.value.account=e),placeholder:"用户名",tabindex:"1",autocomplete:"on"},{prefix:v((()=>[g(r,null,{default:v((()=>[g(o,{name:"user"})])),_:1})])),_:1},8,["modelValue"])])),_:1}),g(t,{prop:"captcha"},{default:v((()=>[g(s,{ref:"captcha",modelValue:we.value.captcha,"onUpdate:modelValue":l[8]||(l[8]=e=>we.value.captcha=e),placeholder:"验证码",tabindex:"2",autocomplete:"on"},{prefix:v((()=>[g(r,null,{default:v((()=>[g(o,{name:"captcha"})])),_:1})])),append:v((()=>[g(h,null,{default:v((()=>[re])),_:1})])),_:1},8,["modelValue"])])),_:1}),g(t,{prop:"password"},{default:v((()=>[g(s,{ref:"password",modelValue:we.value.password,"onUpdate:modelValue":l[9]||(l[9]=e=>we.value.password=e),type:Ce.value,placeholder:"密码",tabindex:"3",autocomplete:"on"},{prefix:v((()=>[g(r,null,{default:v((()=>[g(o,{name:"password"})])),_:1})])),suffix:v((()=>[g(r,null,{default:v((()=>[g(o,{name:"password"===Ce.value?"eye":"eye-open",onClick:Ue},null,8,["name"])])),_:1})])),_:1},8,["modelValue","type"])])),_:1}),g(t,{prop:"checkPassword"},{default:v((()=>[g(s,{ref:"checkPassword",modelValue:we.value.checkPassword,"onUpdate:modelValue":l[10]||(l[10]=e=>we.value.checkPassword=e),type:Ce.value,placeholder:"确认密码",tabindex:"4",autocomplete:"on"},{prefix:v((()=>[g(r,null,{default:v((()=>[g(o,{name:"password"})])),_:1})])),suffix:v((()=>[g(r,null,{default:v((()=>[g(o,{name:"password"===Ce.value?"eye":"eye-open",onClick:Ue},null,8,["name"])])),_:1})])),_:1},8,["modelValue","type"])])),_:1})]),g(h,{loading:ke.value,type:"primary",size:"large",style:{width:"100%","margin-top":"20px"},onClick:C(be,["prevent"])},{default:v((()=>[se])),_:1},8,["loading","onClick"]),c("div",te,[ue,g(b,{type:"primary",underline:!1,onClick:l[11]||(l[11]=e=>fe.value="login")},{default:v((()=>[ne])),_:1})])])),_:1},8,["model","rules"]),[[f,"register"==fe.value]]),m(g(j,{ref:"resetFormRef",model:he.value,rules:xe.value,class:"login-form","auto-complete":"on"},{default:v((()=>[de,c("div",null,[g(t,{prop:"account"},{default:v((()=>[g(s,{ref:"name",modelValue:he.value.account,"onUpdate:modelValue":l[12]||(l[12]=e=>he.value.account=e),placeholder:"用户名",tabindex:"1",autocomplete:"on"},{prefix:v((()=>[g(r,null,{default:v((()=>[g(o,{name:"user"})])),_:1})])),_:1},8,["modelValue"])])),_:1}),g(t,{prop:"captcha"},{default:v((()=>[g(s,{ref:"captcha",modelValue:he.value.captcha,"onUpdate:modelValue":l[13]||(l[13]=e=>he.value.captcha=e),placeholder:"验证码",tabindex:"2",autocomplete:"on"},{prefix:v((()=>[g(r,null,{default:v((()=>[g(o,{name:"captcha"})])),_:1})])),append:v((()=>[g(h,null,{default:v((()=>[ie])),_:1})])),_:1},8,["modelValue"])])),_:1}),g(t,{prop:"newPassword"},{default:v((()=>[g(s,{ref:"newPassword",modelValue:he.value.newPassword,"onUpdate:modelValue":l[14]||(l[14]=e=>he.value.newPassword=e),type:Ce.value,placeholder:"新密码",tabindex:"3",autocomplete:"on"},{prefix:v((()=>[g(r,null,{default:v((()=>[g(o,{name:"password"})])),_:1})])),suffix:v((()=>[g(r,null,{default:v((()=>[g(o,{name:"password"===Ce.value?"eye":"eye-open",onClick:Ue},null,8,["name"])])),_:1})])),_:1},8,["modelValue","type"])])),_:1})]),g(h,{loading:ke.value,type:"primary",size:"large",style:{width:"100%","margin-top":"20px"},onClick:C(Ve,["prevent"])},{default:v((()=>[ce])),_:1},8,["loading","onClick"]),c("div",pe,[g(b,{type:"primary",underline:!1,onClick:l[15]||(l[15]=e=>fe.value="login")},{default:v((()=>[me])),_:1})])])),_:1},8,["model","rules"]),[[f,"reset"==fe.value]])]),p(U).copyright.enable?(x(),_(q,{key:0})):w("v-if",!0)])}}});"function"==typeof y&&y(ge);const ve=a(ge,[["__scopeId","data-v-d27b672d"]]);export{ve as default};
